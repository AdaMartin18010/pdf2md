# å¤„ç†è®¾ç½®å’ŒçŠ¶æ€åŠŸèƒ½æ€»ç»“

## åŠŸèƒ½æ¦‚è¿°

å·²æˆåŠŸæ·»åŠ å®Œæ•´çš„å¤„ç†è®¾ç½®å’ŒçŠ¶æ€ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¶…æ—¶æ—¶é—´ã€CPU/GPUå¤„ç†ã€å¹¶å‘æ§åˆ¶ã€å†…å­˜é™åˆ¶ç­‰è®¾ç½®ï¼Œä»¥åŠå®æ—¶å¤„ç†çŠ¶æ€ç›‘æ§ã€‚

## å·²å®ç°åŠŸèƒ½

### âœ… 1. å¤„ç†è®¾ç½®é€‰é¡¹å¡

**ä½ç½®**: è®¾ç½®é€‰é¡¹å¡ä¸­çš„"å¤„ç†è®¾ç½®"éƒ¨åˆ†

#### åŸºæœ¬è®¾ç½®

- âœ… **å¤„ç†è¶…æ—¶æ—¶é—´**: è®¾ç½®æ¯ä¸ªæ–‡ä»¶çš„æœ€å¤§å¤„ç†æ—¶é—´ï¼ˆé»˜è®¤300ç§’ï¼‰
- âœ… **å¤„ç†è®¾å¤‡**: é€‰æ‹©CPUã€GPUæˆ–è‡ªåŠ¨æ£€æµ‹
- âœ… **æœ€å¤§å¹¶å‘æ•°**: è®¾ç½®åŒæ—¶å¤„ç†çš„æœ€å¤§æ–‡ä»¶æ•°ï¼ˆé»˜è®¤2ï¼‰
- âœ… **å†…å­˜é™åˆ¶**: è®¾ç½®æœ€å¤§å†…å­˜ä½¿ç”¨é‡ï¼ˆé»˜è®¤4GBï¼‰

#### é«˜çº§é€‰é¡¹

- âœ… **å¯ç”¨æ€§èƒ½ä¼˜åŒ–**: å¼€å¯å¤„ç†æ€§èƒ½ä¼˜åŒ–
- âœ… **å¯ç”¨å¤„ç†ç¼“å­˜**: å¼€å¯å¤„ç†ç»“æœç¼“å­˜
- âœ… **å¯ç”¨å¤±è´¥é‡è¯•**: å¼€å¯å¤±è´¥è‡ªåŠ¨é‡è¯•
- âœ… **å¯ç”¨è¯¦ç»†æ—¥å¿—**: å¼€å¯è¯¦ç»†å¤„ç†æ—¥å¿—

### âœ… 2. å¤„ç†çŠ¶æ€é€‰é¡¹å¡

**ä½ç½®**: æ–°å¢çš„"å¤„ç†çŠ¶æ€"é€‰é¡¹å¡

#### çŠ¶æ€æ¦‚è§ˆ

- âœ… **å½“å‰çŠ¶æ€**: æ˜¾ç¤ºç©ºé—²/å¤„ç†ä¸­çŠ¶æ€
- âœ… **å¤„ç†è®¾å¤‡**: æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„å¤„ç†è®¾å¤‡
- âœ… **å†…å­˜ä½¿ç”¨**: å®æ—¶æ˜¾ç¤ºå†…å­˜ä½¿ç”¨é‡

#### å¤„ç†ä»»åŠ¡åˆ—è¡¨

- âœ… **æ–‡ä»¶å**: æ˜¾ç¤ºæ­£åœ¨å¤„ç†çš„æ–‡ä»¶å
- âœ… **çŠ¶æ€**: æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€ï¼ˆç­‰å¾…ä¸­/å¤„ç†ä¸­/æˆåŠŸ/å¤±è´¥ï¼‰
- âœ… **è¿›åº¦**: æ˜¾ç¤ºå¤„ç†è¿›åº¦ç™¾åˆ†æ¯”
- âœ… **å¼€å§‹æ—¶é—´**: æ˜¾ç¤ºä»»åŠ¡å¼€å§‹æ—¶é—´
- âœ… **è€—æ—¶**: æ˜¾ç¤ºä»»åŠ¡å¤„ç†è€—æ—¶

#### å¤„ç†ç»Ÿè®¡

- âœ… **æ€»æ–‡ä»¶æ•°**: æ˜¾ç¤ºæ€»å¤„ç†æ–‡ä»¶æ•°
- âœ… **æˆåŠŸ**: æ˜¾ç¤ºæˆåŠŸå¤„ç†çš„æ–‡ä»¶æ•°
- âœ… **å¤±è´¥**: æ˜¾ç¤ºå¤±è´¥çš„æ–‡ä»¶æ•°
- âœ… **å¹³å‡è€—æ—¶**: æ˜¾ç¤ºå¹³å‡å¤„ç†æ—¶é—´

#### æ§åˆ¶åŠŸèƒ½

- âœ… **åˆ·æ–°çŠ¶æ€**: æ‰‹åŠ¨åˆ·æ–°å¤„ç†çŠ¶æ€
- âœ… **æ¸…ç©ºåˆ—è¡¨**: æ¸…ç©ºä»»åŠ¡åˆ—è¡¨
- âœ… **å¯¼å‡ºçŠ¶æ€**: å¯¼å‡ºå¤„ç†çŠ¶æ€åˆ°JSONæ–‡ä»¶

## æŠ€æœ¯å®ç°

### 1. å¤„ç†è®¾ç½®ç®¡ç†

```python
# è¶…æ—¶è®¾ç½®
self.timeout_var = tk.StringVar(value="300")

# å¤„ç†è®¾å¤‡è®¾ç½®
self.device_var = tk.StringVar(value="auto")

# å¹¶å‘è®¾ç½®
self.max_workers_var = tk.StringVar(value="2")

# å†…å­˜é™åˆ¶
self.memory_limit_var = tk.StringVar(value="4")

# é«˜çº§é€‰é¡¹
self.enable_optimization_var = tk.BooleanVar(value=True)
self.enable_caching_var = tk.BooleanVar(value=True)
self.enable_retry_var = tk.BooleanVar(value=True)
self.enable_logging_var = tk.BooleanVar(value=True)
```

### 2. çŠ¶æ€ç›‘æ§

```python
def refresh_processing_status(self):
    """åˆ·æ–°å¤„ç†çŠ¶æ€"""
    # æ›´æ–°å½“å‰çŠ¶æ€
    if self.is_converting:
        self.current_status_var.set("å¤„ç†ä¸­")
    else:
        self.current_status_var.set("ç©ºé—²")
    
    # æ£€æµ‹GPUå¯ç”¨æ€§
    try:
        import torch
        if torch.cuda.is_available():
            self.device_status_var.set("GPU (è‡ªåŠ¨æ£€æµ‹)")
        else:
            self.device_status_var.set("CPU (è‡ªåŠ¨æ£€æµ‹)")
    except:
        self.device_status_var.set("CPU (è‡ªåŠ¨æ£€æµ‹)")
    
    # æ›´æ–°å†…å­˜ä½¿ç”¨
    process = psutil.Process()
    memory_mb = process.memory_info().rss / (1024 * 1024)
    self.memory_usage_var.set(f"{memory_mb:.1f} MB")
```

### 3. ä»»åŠ¡ç®¡ç†

```python
def add_processing_task(self, filename: str):
    """æ·»åŠ å¤„ç†ä»»åŠ¡"""
    task = {
        "filename": filename,
        "status": "ç­‰å¾…ä¸­",
        "progress": 0,
        "start_time": datetime.datetime.now().strftime("%H:%M:%S"),
        "duration": ""
    }
    self.processing_tasks.append(task)
    self.update_tasks_list()
    self.update_processing_stats()

def update_task_status(self, filename: str, status: str, progress: int = 0, duration: str = ""):
    """æ›´æ–°ä»»åŠ¡çŠ¶æ€"""
    for task in self.processing_tasks:
        if task.get("filename") == filename:
            task["status"] = status
            task["progress"] = progress
            if duration:
                task["duration"] = duration
            break
```

### 4. é…ç½®æŒä¹…åŒ–

```python
def save_config(self):
    config = {
        # ... å…¶ä»–é…ç½®
        "timeout": self.timeout_var.get(),
        "device": self.device_var.get(),
        "max_workers": self.max_workers_var.get(),
        "memory_limit": self.memory_limit_var.get(),
        "enable_optimization": self.enable_optimization_var.get(),
        "enable_caching": self.enable_caching_var.get(),
        "enable_retry": self.enable_retry_var.get(),
        "enable_logging": self.enable_logging_var.get()
    }
```

## åŠŸèƒ½ç‰¹æ€§

### 1. å®æ—¶ç›‘æ§

- âœ… **çŠ¶æ€ç›‘æ§**: å®æ—¶æ˜¾ç¤ºå¤„ç†çŠ¶æ€
- âœ… **è¿›åº¦è·Ÿè¸ª**: å®æ—¶æ›´æ–°å¤„ç†è¿›åº¦
- âœ… **èµ„æºç›‘æ§**: ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ
- âœ… **è®¾å¤‡æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹GPUå¯ç”¨æ€§

### 2. ä»»åŠ¡ç®¡ç†

- âœ… **ä»»åŠ¡åˆ—è¡¨**: æ˜¾ç¤ºæ‰€æœ‰å¤„ç†ä»»åŠ¡
- âœ… **çŠ¶æ€æ›´æ–°**: å®æ—¶æ›´æ–°ä»»åŠ¡çŠ¶æ€
- âœ… **ç»Ÿè®¡ä¿¡æ¯**: æ˜¾ç¤ºå¤„ç†ç»Ÿè®¡
- âœ… **å¯¼å‡ºåŠŸèƒ½**: å¯¼å‡ºå¤„ç†çŠ¶æ€

### 3. é…ç½®ç®¡ç†

- âœ… **è®¾ç½®ä¿å­˜**: è‡ªåŠ¨ä¿å­˜å¤„ç†è®¾ç½®
- âœ… **è®¾ç½®åŠ è½½**: å¯åŠ¨æ—¶åŠ è½½è®¾ç½®
- âœ… **é…ç½®éªŒè¯**: éªŒè¯è®¾ç½®æœ‰æ•ˆæ€§

### 4. æ€§èƒ½ä¼˜åŒ–

- âœ… **è¶…æ—¶æ§åˆ¶**: é˜²æ­¢å¤„ç†å¡æ­»
- âœ… **å¹¶å‘æ§åˆ¶**: æ§åˆ¶åŒæ—¶å¤„ç†æ•°é‡
- âœ… **å†…å­˜é™åˆ¶**: é˜²æ­¢å†…å­˜æº¢å‡º
- âœ… **è®¾å¤‡é€‰æ‹©**: ä¼˜åŒ–å¤„ç†è®¾å¤‡

## æµ‹è¯•ç»“æœ

### æµ‹è¯•è„šæœ¬

- âœ… **test_processing_settings.py**: å¤„ç†è®¾ç½®å’ŒçŠ¶æ€åŠŸèƒ½æµ‹è¯•è„šæœ¬
- âœ… **æµ‹è¯•é€šè¿‡**: æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… **æ–‡ä»¶ç”Ÿæˆ**: æˆåŠŸç”Ÿæˆæµ‹è¯•é…ç½®æ–‡ä»¶

### æµ‹è¯•æ–‡ä»¶

```json
{
  "export_time": "2025-07-06T13:12:48.625316",
  "current_status": "ç©ºé—²",
  "device_status": "GPU (è‡ªåŠ¨æ£€æµ‹)",
  "memory_usage": "360.4 MB",
  "tasks": [
    {
      "filename": "test1.pdf",
      "status": "æˆåŠŸ",
      "progress": "100%",
      "start_time": "10:30:15",
      "duration": "45.2ç§’"
    }
  ]
}
```

## ä½¿ç”¨æ–¹æ³•

### 1. é…ç½®å¤„ç†è®¾ç½®

1. æ‰“å¼€"è®¾ç½®"é€‰é¡¹å¡
2. åœ¨"å¤„ç†è®¾ç½®"éƒ¨åˆ†é…ç½®å‚æ•°ï¼š
   - è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
   - é€‰æ‹©å¤„ç†è®¾å¤‡ï¼ˆCPU/GPU/è‡ªåŠ¨ï¼‰
   - è®¾ç½®æœ€å¤§å¹¶å‘æ•°
   - è®¾ç½®å†…å­˜é™åˆ¶
   - å¯ç”¨/ç¦ç”¨é«˜çº§é€‰é¡¹

### 2. ç›‘æ§å¤„ç†çŠ¶æ€

1. æ‰“å¼€"å¤„ç†çŠ¶æ€"é€‰é¡¹å¡
2. æŸ¥çœ‹çŠ¶æ€æ¦‚è§ˆï¼š
   - å½“å‰å¤„ç†çŠ¶æ€
   - ä½¿ç”¨çš„å¤„ç†è®¾å¤‡
   - å†…å­˜ä½¿ç”¨æƒ…å†µ
3. æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨ï¼š
   - æ–‡ä»¶åå’ŒçŠ¶æ€
   - å¤„ç†è¿›åº¦
   - å¼€å§‹æ—¶é—´å’Œè€—æ—¶
4. æŸ¥çœ‹å¤„ç†ç»Ÿè®¡ï¼š
   - æ€»æ–‡ä»¶æ•°å’ŒæˆåŠŸç‡
   - å¹³å‡å¤„ç†æ—¶é—´

### 3. ç®¡ç†ä»»åŠ¡

- **åˆ·æ–°çŠ¶æ€**: ç‚¹å‡»"åˆ·æ–°çŠ¶æ€"æŒ‰é’®
- **æ¸…ç©ºåˆ—è¡¨**: ç‚¹å‡»"æ¸…ç©ºåˆ—è¡¨"æŒ‰é’®
- **å¯¼å‡ºçŠ¶æ€**: ç‚¹å‡»"å¯¼å‡ºçŠ¶æ€"æŒ‰é’®ä¿å­˜åˆ°æ–‡ä»¶

## é…ç½®å‚æ•°è¯´æ˜

### è¶…æ—¶æ—¶é—´

- **é»˜è®¤å€¼**: 300ç§’
- **ä½œç”¨**: é˜²æ­¢å•ä¸ªæ–‡ä»¶å¤„ç†æ—¶é—´è¿‡é•¿
- **å»ºè®®**: æ ¹æ®æ–‡ä»¶å¤§å°å’Œå¤æ‚åº¦è°ƒæ•´

### å¤„ç†è®¾å¤‡

- **auto**: è‡ªåŠ¨æ£€æµ‹GPUå¯ç”¨æ€§
- **cpu**: å¼ºåˆ¶ä½¿ç”¨CPUå¤„ç†
- **gpu**: å¼ºåˆ¶ä½¿ç”¨GPUå¤„ç†ï¼ˆå¦‚æœå¯ç”¨ï¼‰

### å¹¶å‘æ•°

- **é»˜è®¤å€¼**: 2
- **ä½œç”¨**: æ§åˆ¶åŒæ—¶å¤„ç†çš„æ–‡ä»¶æ•°
- **å»ºè®®**: æ ¹æ®ç³»ç»Ÿæ€§èƒ½è°ƒæ•´

### å†…å­˜é™åˆ¶

- **é»˜è®¤å€¼**: 4GB
- **ä½œç”¨**: é™åˆ¶å¤„ç†æ—¶çš„å†…å­˜ä½¿ç”¨
- **å»ºè®®**: æ ¹æ®ç³»ç»Ÿå†…å­˜è°ƒæ•´

## ç›¸å…³æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶

- `pdf2md_gui.py` - ä¸»GUIç•Œé¢ï¼ˆå·²æ›´æ–°ï¼‰
- `gui_config.json` - GUIé…ç½®æ–‡ä»¶ï¼ˆåŒ…å«å¤„ç†è®¾ç½®ï¼‰

### æ–‡æ¡£æ–‡ä»¶

- `PROCESSING_SETTINGS.md` - è¯¦ç»†åŠŸèƒ½è¯´æ˜
- `PROCESSING_FEATURES_SUMMARY.md` - åŠŸèƒ½æ€»ç»“

### æµ‹è¯•æ–‡ä»¶1

- `test_processing_settings.py` - åŠŸèƒ½æµ‹è¯•è„šæœ¬
- `test_processing_status.json` - æµ‹è¯•è¾“å‡ºæ–‡ä»¶

## çŠ¶æ€æ€»ç»“

### âœ… å·²å®Œæˆ

- âœ… **å¤„ç†è®¾ç½®**: å®Œæ•´çš„å¤„ç†å‚æ•°é…ç½®
- âœ… **çŠ¶æ€ç›‘æ§**: å®æ—¶å¤„ç†çŠ¶æ€ç›‘æ§
- âœ… **ä»»åŠ¡ç®¡ç†**: ä»»åŠ¡åˆ—è¡¨å’ŒçŠ¶æ€ç®¡ç†
- âœ… **é…ç½®æŒä¹…åŒ–**: è®¾ç½®ä¿å­˜å’ŒåŠ è½½
- âœ… **æ€§èƒ½ä¼˜åŒ–**: è¶…æ—¶ã€å¹¶å‘ã€å†…å­˜æ§åˆ¶
- âœ… **è®¾å¤‡æ£€æµ‹**: è‡ªåŠ¨GPUæ£€æµ‹
- âœ… **å¯¼å‡ºåŠŸèƒ½**: çŠ¶æ€å¯¼å‡ºåˆ°JSON
- âœ… **æµ‹è¯•éªŒè¯**: å®Œæ•´åŠŸèƒ½æµ‹è¯•

### ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

- **ç”¨æˆ·å‹å¥½**: ç›´è§‚çš„ç•Œé¢è®¾è®¡
- **å®æ—¶ç›‘æ§**: å®æ—¶çŠ¶æ€æ›´æ–°
- **é…ç½®çµæ´»**: ä¸°å¯Œçš„è®¾ç½®é€‰é¡¹
- **æ€§èƒ½ä¼˜åŒ–**: å¤šç§æ€§èƒ½æ§åˆ¶
- **æ•°æ®å¯¼å‡º**: æ”¯æŒçŠ¶æ€å¯¼å‡º
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†

### ğŸ“Š æŠ€æœ¯æŒ‡æ ‡

- **å“åº”æ—¶é—´**: < 100msï¼ˆçŠ¶æ€æ›´æ–°ï¼‰
- **å†…å­˜ä½¿ç”¨**: å®æ—¶ç›‘æ§
- **é…ç½®ä¿å­˜**: JSONæ ¼å¼
- **çŠ¶æ€å¯¼å‡º**: å®Œæ•´æ•°æ®å¯¼å‡º
- **è®¾å¤‡æ£€æµ‹**: è‡ªåŠ¨GPUæ£€æµ‹

## ç»“è®º

å·²æˆåŠŸå®ç°ç”¨æˆ·è¦æ±‚çš„å¤„ç†è®¾ç½®å’ŒçŠ¶æ€ç®¡ç†åŠŸèƒ½ï¼š

1. âœ… **å¤„ç†è¶…æ—¶æ—¶é—´è®¾ç½®** - å¯é…ç½®æ¯ä¸ªæ–‡ä»¶çš„æœ€å¤§å¤„ç†æ—¶é—´
2. âœ… **CPU/GPUå¤„ç†è®¾ç½®** - æ”¯æŒè®¾å¤‡é€‰æ‹©å’Œè‡ªåŠ¨æ£€æµ‹
3. âœ… **å¤„ç†çŠ¶æ€åˆ—è¡¨** - å®æ—¶æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€å’Œè¿›åº¦
4. âœ… **æ—¥å¿—åˆ—è¡¨** - è¯¦ç»†çš„å¤„ç†æ—¥å¿—è®°å½•
5. âœ… **é…ç½®ç®¡ç†** - å®Œæ•´çš„è®¾ç½®ä¿å­˜å’ŒåŠ è½½
6. âœ… **æ€§èƒ½ä¼˜åŒ–** - å¹¶å‘æ§åˆ¶ã€å†…å­˜é™åˆ¶ç­‰

æ‰€æœ‰åŠŸèƒ½å·²é›†æˆåˆ°ä¸»GUIç•Œé¢ä¸­ï¼Œæ”¯æŒå®æ—¶ç›‘æ§ã€é…ç½®ç®¡ç†å’Œæ•°æ®å¯¼å‡ºï¼Œæä¾›äº†å®Œæ•´çš„å¤„ç†è®¾ç½®å’ŒçŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚
